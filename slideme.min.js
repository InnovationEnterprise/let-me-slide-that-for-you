function slideMe(k,N){function w(b,a){var f="Player error:<br>"+b+"";a.setAttribute("class","slideme-error");a.innerHTML=f}function A(b,a){for(var f in a)a.hasOwnProperty(f)&&b.setAttribute(f,a[f])}function O(b,a,f){var h,q;return function(){var g=f||this,d=+new Date,e=arguments;h&&d<h+a?(clearTimeout(q),q=setTimeout(function(){h=d;b.apply(g,e)},a)):(h=d,b.apply(g,e))}}function E(){t=document.createElement("div");t.setAttribute("id","slideme-preloader");t.innerHTML='<i class="icon-spinner">.</i>';
h.appendChild(t)}function F(){function c(c){function q(){if(r){var a=this.getAttribute("data-slideme-time");e.currentTime(a);e.play()}else x.setAttribute("src",this.getAttribute("src"));"images"===b.videoslidestype&&this!==u[0]&&(d.style.left=150-this.offsetLeft+"px");document.getElementsByClassName("slideme-img-active")[0].classList.remove("slideme-img-active");this.setAttribute("class","slideme-img-active")}for(var g=0;g<f;g++){var k=a[g].slidecontent,l=60*a[g].timemin+parseInt(a[g].timesec),m;
c?(m=document.createElement("img"),A(m,{src:k,"data-slideme-time":l}),p=100*f,d.style.width=p+"px"):(m=document.createElement("div"),m.innerHTML='<div class="slideme-list-content">'+k+"</div>",m.setAttribute("data-slideme-time",l));B.push(l);d.appendChild(m)}c&&(c=a[0].slidecontent,x=document.createElement("img"),x.setAttribute("src",c),n.appendChild(x),t.remove(),h.style.overflow="visible");console.log("slider content set");if("html"===b.videoslidestype){var v=!0;document.getElementById("slideme-html-nav-left").addEventListener("click",
function(){0>d.offsetTop&&!0===v&&(d.style.top=d.offsetTop+360+"px",v=!1,setTimeout(function(){v=!0},350))});document.getElementById("slideme-html-nav-right").addEventListener("click",function(){d.offsetTop>-d.offsetHeight+360&&!0===v&&(d.style.top=d.offsetTop-360+"px",v=!1,setTimeout(function(){v=!0},350))})}u=document.querySelectorAll("[data-slideme-time]");u[0].setAttribute("class","slideme-img-active");for(c=0;g<u.length;c++)u[c].addEventListener("click",q,!1)}var a=b.videoslides,f=a.length,n=
document.createElement("div");n.setAttribute("id","slideme-container");h.appendChild(n);r||(n.style["float"]="none",n.style.margin="auto",n.style.width="480px");d=document.createElement("div");d.setAttribute("id","slideme-list");l=document.createElement("div");l.setAttribute("id","slideme-list-wrapper");if("images"===b.videoslidestype)l.innerHTML='<div id="slideme-btn-prev"><i class="icon-prevslide"><</i></div><div id="slideme-btn-next"><i class="icon-nextslide">></i></div>';else{l.setAttribute("class",
"slideme-text");var q=document.createElement("div");q.setAttribute("id","slideme-html-nav");q.innerHTML='<div id="slideme-html-nav-left"><</div><div id="slideme-html-nav-right">></div>';l.appendChild(q);h.style.height="360px"}h.appendChild(l);l.appendChild(d);if("images"===b.videoslidestype){var g=!1,p=0;document.getElementById("slideme-btn-next").addEventListener("click",function(){var a=d.offsetLeft;!1===g&&a>-p+500&&(g=!0,d.style.left=a-200+"px",setTimeout(function(){g=!1},325))},!1);document.getElementById("slideme-btn-prev").addEventListener("click",
function(){var a=d.offsetLeft;!1===g&&50>a&&(g=!0,d.style.left=a+(-50>a?200:100)+"px",setTimeout(function(){g=!1},325))},!1)}if("images"===b.videoslidestype)for(var k=0,m=0;m<f;m++)(function(){var b=a[m].slidecontent,g=new Image;g.src=b;g.onload=function(){k+=1;k===f&&c(!0)};g.onerror=function(){w("cannot load image",h)}})();else c(!1)}function P(){for(var c=Math.round(e.currentTime()),a,f=0;f<B.length;f++)c>=B[f]&&(a=B[f]);G!==a&&(G=a,c=document.querySelectorAll('[data-slideme-time="'+a+'"]')[0],
"images"===b.videoslidestype?(d.style.left=c!==u[0]?150-c.offsetLeft+"px":50-c.offsetLeft+"px",x.setAttribute("src",c.getAttribute("src"))):d.style.top=-c.offsetTop+"px",document.getElementsByClassName("slideme-img-active")[0].classList.remove("slideme-img-active"),c.setAttribute("class","slideme-img-active"))}function H(){y=b.videoslides;r=void 0!==b.videosources;var c,a=document.createElement("div");a.setAttribute("id","slideme-wrapper");void 0!==y&&r&&(c='<video id="videojs" width="640" height="360" controls ></video>');
void 0===y&&r&&(c='<video id="videojs" width="942" height="530" controls ></video>',h.style.height="530px",a.style["float"]="none",a.style.margin="auto");r&&(a.innerHTML=c,h.appendChild(a),z=document.getElementById("videojs"));if(void 0!==b.subtitles)for(c=0;c<b.subtitles.length;c++)a=document.createElement("track"),A(a,{src:b.subtitles[c].src,srclang:b.subtitles[c].srclang,label:b.subtitles[c].label}),"true"===b.subtitles[c]["default"]&&a.setAttribute("default",""),z.appendChild(a)}function I(){var c;
c=void 0!==b.videosourcesmobile&&null!==Q?b.videosourcesmobile:b.videosources;for(var a in c)if(c.hasOwnProperty(a)){var f=document.createElement("source");A(f,{src:c[a],type:a});z.appendChild(f)}void 0===b.preload&&(b.preload="metadata");void 0===b.poster&&(b.poster="");A(z,{"class":"video-js vjs-default-skin",poster:b.poster,preload:b.preload});e=videojs(z);if(void 0!==b.adTagUrl){var d={id:"videojs",adTagUrl:b.adTagUrl};slideMe.loadAssets("//d3gr29hczmiozh.cloudfront.net/ads/slidemeads.js","css");
slideMe.loadAssets("//imasdk.googleapis.com/js/sdkloader/ima3.js","script");slideMe.loadAssets("//d3gr29hczmiozh.cloudfront.net/ads/slidemeads.js","script",function(){e.ima(d);e.ima.initializeAdDisplayContainer();e.ima.requestAds();console.log("ad script loaded")})}e.ready(function(){e=this;C=document.getElementsByTagName("video")[0];console.log("player created");"html"===b.videoslidestype&&(t.remove(),h.style.overflow="visible");void 0!==b.autoplay&&"false"!==b.autoplay&&e.play();void 0!==b.videoslides&&
document.getElementsByTagName("video")[0].addEventListener("timeupdate",O(P,1E3));if(b.videosources&&void 0!==b.videosourcesmobile){var a=document.createElement("div");a.setAttribute("id","slideme-quality");var c=e.src(),c=C.querySelectorAll('[src="'+c+'"]')[0],c=c.getAttribute("type"),f,d,m;for(m in b.videosources)m===c&&(f=b.videosources[m]);for(var k in b.videosourcesmobile)k===c&&(d=b.videosourcesmobile[k]);a.innerHTML='<div id="slideme-change-quality">Auto</div><div id="slideme-change-quality-list"><p data-quality="'+
f+'">High</p><p data-quality="'+d+'">Low</p></div>';document.getElementsByClassName("vjs-control-bar")[0].appendChild(a);var n=!1,l=document.getElementById("slideme-change-quality-list"),a=function(){var a=e.currentTime(),b=this.getAttribute("data-quality");document.getElementById("slideme-change-quality").innerHTML=this.innerHTML;e.src(b);e.currentTime(a);e.play();n=!1;l.style.display="none"};document.querySelectorAll("[data-quality]")[0].addEventListener("click",a);document.querySelectorAll("[data-quality]")[1].addEventListener("click",
a);document.getElementById("slideme-change-quality").addEventListener("click",function(){!1===n?(n=!0,l.style.display="block"):(n=!1,l.style.display="none")});C.addEventListener("click",function(){n=!1;l.style.display="none"})}})}function J(){"undefined"===typeof vjs?slideMe.loadAssets("//vjs.zencdn.net/4.11.2/video.js","script",I):I()}function K(){function c(){slideMe.reload(this.getAttribute("data-json"));return!1}var a;null!==document.getElementById("slideme-playlist")?a=document.getElementById("slideme-playlist"):
(a=document.createElement("div"),a.setAttribute("id","slideme-playlist"));a.innerHTML='<div id="slideme-playlist-title">Playlist<div id="slideme-playlist-drop">></div></div><div id="slideme-playlist-list"></div>';h.appendChild(a);h.style.margin="0 auto 50px auto";var f=document.getElementById("slideme-playlist-title"),d=document.getElementById("slideme-playlist-list");void 0!==b.playlist&&(p=b.playlist);for(a=0;a<p.length;a++){var e;"json"===p[a].type?(e=document.createElement("p"),e.innerHTML=p[a].title,
e.setAttribute("data-json",p[a].link),d.appendChild(e),e.addEventListener("click",c)):(e=document.createElement("a"),e.innerHTML=p[a].title,e.setAttribute("href",p[a].link),d.appendChild(e))}var g=!1;f.addEventListener("click",function(){!1===g?(g=!0,d.style.display="block",f.classList.add("slideme-drop-active")):(g=!1,d.style.display="none",f.classList.remove("slideme-drop-active"))})}function L(c){var a=new XMLHttpRequest;a.open("GET",c,!0);a.onload=function(){200<=a.status&&400>a.status?(b=JSON.parse(a.responseText),
console.log("json fetched"),H(),void 0!==y&&F(),r&&J(),"destroy"!==b.playlist?K():slideMe.destroyPlaylist()):w("cannot connect",h)};a.onerror=function(){w("cannot connect",h)};a.send()}var h=document.querySelectorAll("[data-slidemejs]")[0],D=document.getElementsByTagName("head")[0],b,Q=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),e,C,y,r,z,B=[],u,d,x,t,p,l,M=document.createElement("style");M.innerHTML='#slideme-preloader{font-family: Helvetica, Arial, sans-serif;position:absolute;top:0;bottom:0;left:0;right:0;padding:15% 0 0;background:#fff;z-index:100;color:#000;text-align:center}#slideme-preloader:after{content:"Loading, please wait...";font-size:12px;font-weight:100;display:block}@keyframes slideMeSpinner{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@-webkit-keyframes slideMeSpinner{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}.icon-spinner{-webkit-animation:slideMeSpinner .75s linear infinite;animation:slideMeSpinner 2s linear infinite;font-size:20px;line-height:50px;width:50px;height:50px;cursor:default;text-align:center;color:#000}';
D.appendChild(M);E();var G="00";slideMe={reload:function(b){for(e.dispose();h.firstChild;)h.removeChild(h.firstChild);E();L(b)},destroyPlaylist:function(){document.getElementById("slideme-playlist").remove()},destroySlideMe:function(){e.dispose();h.remove();slideMe=void 0},loadAssets:function(b,a,d){console.log(a);"css"===a?(a=document.createElement("link"),a.href=b,a.rel="stylesheet",a.type="text/css",D.appendChild(a)):(a=document.createElement("script"),a.src=b,a.type="text/javascript",D.appendChild(a),
void 0!==d&&(a.onload=function(){d()}))}};slideMe.loadAssets("//d3gr29hczmiozh.cloudfront.net/slidemecss.min.css","css");slideMe.loadAssets("//d3gr29hczmiozh.cloudfront.net/video-js.min.css","css");if(!1!==N)L(k);else{b=k;if(void 0===b)return w("no config",h),!1;b?(H(),void 0!==y&&F(),r&&J(),K()):w("no config",h)}}document.addEventListener("DOMContentLoaded",function(){var k=document.querySelectorAll("[data-slidemejs]")[0];void 0!==k&&""!==k.getAttribute("data-slidemejs")&&slideMe(k.getAttribute("data-slidemejs"))});