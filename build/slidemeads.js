(function(k,H,A,L){var q=function(a){var b,c,h;for(c=1;c<arguments.length;c++)for(h in b=arguments[c],b)b.hasOwnProperty(h)&&(a[h]=b[h]);return a},a=function(a,b,c){var h=Object.prototype.toString.call(b),g=function(a,b,n){if(a.addEventListener)a.addEventListener(b,n);else if(a.on)a.on(b,n);else if(a.attachEvent)a.attachEvent("on"+b,n);else throw Error("object has no mechanism for adding event listeners");},m;switch(h){case "[object String]":g(a,b,c);break;case "[object Array]":m=0;for(h=b.length;m<
h;m++)g(a,b[m],c);break;case "[object Object]":for(m in b)b.hasOwnProperty(m)&&g(a,m,b[m]);break;default:throw Error("Unrecognized events parameter type: "+h);}return a},d=function(a){return(k.setImmediate||k.requestAnimationFrame||k.mozRequestAnimationFrame||k.webkitRequestAnimationFrame||k.setTimeout)(a,0)},y=function(a){return(k.clearImmediate||k.cancelAnimationFrame||k.webkitCancelAnimationFrame||k.mozCancelAnimationFrame||k.clearTimeout)(a)},r=function(a){a.ads.cancelPlayTimeout||(a.ads.cancelPlayTimeout=
d(function(){a.ads.cancelPlayTimeout=null;a.paused()||a.pause();a.one("contentplayback",function(){a.paused()&&a.play()})}))},u=function(a,b){for(var c=a.className.split(/\s+/),h=c.length,g=[];h--;)c[h]!==b&&g.push(c[h]);a.className=g.join(" ")},l=function(a,b){var c=a.el().querySelector(".vjs-tech"),h=20,g=b.suppressedTracks,m,f=function(){for(var a=g.length;a--;)m=g[a],m.track.mode=m.mode},d=function(){a.currentTime(b.currentTime);a.ended()||a.play()},e=function(){c.seekable===L?d():0<c.seekable.length?
d():h--&&setTimeout(e,50)};b.nativePoster&&(c.poster=b.nativePoster);"style"in b&&c.setAttribute("style",b.style||"");(a.src()?a.src()!==b.src:a.currentSrc()!==b.src)?(a.one("loadedmetadata",f),a.src({src:b.src,type:b.type}),a.load(),a.one("loadedmetadata",e)):a.ended()||(f(),a.play())},f=function(a){(a=a.el().querySelector(".vjs-tech"))&&a.removeAttribute("poster")},t={timeout:5E3,prerollTimeout:100,debug:!1};A.plugin("ads",function(n){var b=this,c=q({},t,n||{});b.ads={state:"content-set",startLinearAdMode:function(){b.trigger("adstart")},
endLinearAdMode:function(){b.trigger("adend")}};n=function(a){var g={"content-set":{events:{adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?";r(b);f(b)},adserror:function(){this.state="content-playback"}}},"ads-ready":{events:{play:function(){this.state="preroll?";r(b)},adserror:function(){this.state="content-playback"}}},"preroll?":{enter:function(){b.el().className+=" vjs-ad-loading";b.ads.timeout=k.setTimeout(function(){b.trigger("adtimeout")},
c.prerollTimeout);b.trigger("readyforpreroll")},leave:function(){k.clearTimeout(b.ads.timeout);u(b.el(),"vjs-ad-loading")},events:{play:function(){r(b)},adstart:function(){this.state="ad-playback";b.el().className+=" vjs-ad-playing"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ads-ready?":{enter:function(){b.el().className+=" vjs-ad-loading";b.ads.timeout=k.setTimeout(function(){b.trigger("adtimeout")},c.timeout)},leave:function(){k.clearTimeout(b.ads.timeout);
u(b.el(),"vjs-ad-loading")},events:{play:function(){r(b)},adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="preroll?"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ad-playback":{enter:function(){var a=b.el().querySelector(".vjs-tech"),c=b.remoteTextTracks?b.remoteTextTracks():[],g,e=[],d={src:b.currentSrc(),currentTime:b.currentTime(),type:b.currentType()};a&&(d.nativePoster=a.poster,d.style=a.getAttribute("style"));
for(g=c.length;g--;)a=c[g],e.push({track:a,mode:a.mode}),a.mode="disabled";d.suppressedTracks=e;this.snapshot=d;f(b);b.ads.cancelPlayTimeout&&(y(b.ads.cancelPlayTimeout),b.ads.cancelPlayTimeout=null)},leave:function(){u(b.el(),"vjs-ad-playing");l(b,this.snapshot);"adend"!==g.triggerevent&&b.trigger("adend")},events:{adend:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"content-playback":{enter:function(){b.ads.cancelPlayTimeout&&(y(b.ads.cancelPlayTimeout),
b.ads.cancelPlayTimeout=null);b.trigger({type:"contentplayback",triggerevent:g.triggerevent})},events:{adsready:function(){b.trigger("readyforpreroll")},adstart:function(){this.state="ad-playback";b.el().className+=" vjs-ad-playing";f(b)},contentupdate:function(){b.paused()?this.state="content-set":this.state="ads-ready?"}}}};(function(d){var f=function(){};(g[d].events[a.type]||f).apply(b.ads);d!==b.ads.state&&(g.triggerevent=a.type,(g[d].leave||f).apply(b.ads),(g[b.ads.state].enter||f).apply(b.ads),
c.debug&&videojs.log("ads",g.triggerevent+" triggered: "+d+" -> "+b.ads.state))})(b.ads.state)};a(b,A.Html5.Events.concat("adtimeout contentupdate adsready adserror adscanceled adstart adend".split(" ")),n);b.ads.contentSrc=b.currentSrc();(function(){var a=function(){var a;"ad-playback"!==b.ads.state&&(a=b.currentSrc(),a!==b.ads.contentSrc&&(b.trigger({type:"contentupdate",oldValue:b.ads.contentSrc,newValue:a}),b.ads.contentSrc=a))};b.on("loadstart",a);d(a)})();b.paused()||n({type:"play"})})})(window,
document,videojs);
(function(k){var H=function(k){var q,a,d;for(a=1;a<arguments.length;a++)for(d in q=arguments[a],q)q.hasOwnProperty(d)&&(k[d]=q[d]);return k},A={};k.plugin("ima",function(k,q){var a=this;a.ima.createAdContainer_=function(){u=a.getChild("controlBar");l=u.el().parentNode.insertBefore(document.createElement("div"),u.el());l.id="ima-ad-container";l.style.width=a.width()+"px";l.style.height=a.height()+"px";l.addEventListener("mouseover",a.ima.showAdControls_,!1);l.addEventListener("mouseout",a.ima.hideAdControls_,
!1);a.ima.createControls_();m=new google.ima.AdDisplayContainer(l,y)};a.ima.createControls_=function(){f=document.createElement("div");f.id="ima-controls-div";f.style.width="100%";t=document.createElement("div");t.id="ima-countdown-div";t.innerHTML="Advertisement";t.style.display=r?"block":"none";n=document.createElement("div");n.id="ima-seek-bar-div";n.style.width=a.width()+"px";b=document.createElement("div");b.id="ima-progress-div";c=document.createElement("div");c.id="ima-play-pause-div";c.className=
"ima-playing";c.addEventListener("click",a.ima.onAdPlayPauseClick_,!1);h=document.createElement("div");h.id="ima-mute-div";h.className="ima-non-muted";h.addEventListener("click",a.ima.onAdMuteClick_,!1);g=document.createElement("div");g.id="ima-fullscreen-div";g.className="ima-non-fullscreen";g.addEventListener("click",a.ima.onAdFullscreenClick_,!1);l.insertBefore(f,l.childNodes[l.childNodes.length]);f.insertBefore(t,f.childNodes[f.childNodes.length]);f.insertBefore(n,f.childNodes[f.childNodes.length]);
f.insertBefore(c,f.childNodes[f.childNodes.length]);f.insertBefore(h,f.childNodes[f.childNodes.length]);f.insertBefore(g,f.childNodes[f.childNodes.length]);n.insertBefore(b,n.childNodes[f.childNodes.length])};a.ima.initializeAdDisplayContainer=function(){I=!0;m.initialize()};a.ima.requestAds=function(){I||m.initialize();var b=new google.ima.AdsRequest;b.adTagUrl=d.adTagUrl;b.linearAdSlotWidth=a.width();b.linearAdSlotHeight=a.height();b.nonLinearAdSlotWidth=d.nonLinearWidth||a.width();b.nonLinearAdSlotHeight=
d.nonLinearHeight||a.height()/3;p.requestAds(b)};a.ima.onAdsManagerLoaded_=function(b){e=b.getAdsManager(x,B);e.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a.ima.onAdError_);e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,a.ima.onContentPauseRequested_);e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,a.ima.onContentResumeRequested_);e.addEventListener(google.ima.AdEvent.Type.LOADED,a.ima.onAdLoaded_);e.addEventListener(google.ima.AdEvent.Type.STARTED,
a.ima.onAdStarted_);e.addEventListener(google.ima.AdEvent.Type.CLICK,a.ima.onAdPlayPauseClick_);e.addEventListener(google.ima.AdEvent.Type.COMPLETE,a.ima.onAdComplete_);a.trigger("adsready")};a.ima.start=function(){try{e.init(a.width(),a.height(),google.ima.ViewMode.NORMAL),e.setVolume(a.muted()?0:a.volume()),e.start()}catch(b){a.ima.onAdError_(b)}};a.ima.onAdsLoaderError_=function(b){window.console.log("AdsLoader error: "+b.getError());e&&e.destroy();a.play()};a.ima.onAdError_=function(b){window.console.log("Ad error: "+
b.getError());e.destroy();l.style.display="none";a.play()};a.ima.onContentPauseRequested_=function(b){v=C=!0;a.off("ended",D);-1!=b.getAd().getAdPodInfo().getPodIndex()&&a.ads.startLinearAdMode();l.style.display="block";f.style.display="block";u.hide();a.pause()};a.ima.onContentResumeRequested_=function(b){v=C=!1;a.on("ended",D);l.style.display="none";u.show();w?z||-1==w.getAdPodInfo().getPodIndex()||a.ads.endLinearAdMode():a.ads.endLinearAdMode();t.innerHTML=""};a.ima.onAdLoaded_=function(b){b.getAd().isLinear()||
a.play()};a.ima.onAdStarted_=function(b){w=b.getAd();w.isLinear()&&(J=setInterval(a.ima.onAdPlayheadTrackerInterval_,250))};a.ima.onAdComplete_=function(a){w.isLinear()&&clearInterval(J)};a.ima.onAdPlayheadTrackerInterval_=function(){var a=e.getRemainingTime(),d=w.getDuration(),c=d-a,c=0<c?c:0,f=!1,g,h;w.getAdPodInfo()&&(f=!0,g=w.getAdPodInfo().getAdPosition(),h=w.getAdPodInfo().getTotalAds());var k=Math.floor(a/60),a=Math.floor(a%60);2>a.toString().length&&(a="0"+a);var l=": ";f&&(l=" ("+g+" of "+
h+"): ");t.innerHTML="Advertisement"+l+k+":"+a;b.style.width=c/d*100+"%"};a.ima.hideAdControls_=function(){c.style.display="none";h.style.display="none";g.style.display="none";f.style.height="14px"};a.ima.showAdControls_=function(){f.style.height="37px";c.style.display="block";h.style.display="block";g.style.display="block"};a.ima.onAdPlayPauseClick_=function(){v?(c.className="ima-paused",e.pause(),v=!1):(c.className="ima-playing",e.resume(),v=!0)};a.ima.onAdMuteClick_=function(){E?(h.className="ima-non-muted",
e.setVolume(1),a.muted(!1),E=!1):(h.className="ima-muted",e.setVolume(0),a.muted(!0),E=!0)};a.ima.onAdFullscreenClick_=function(){a.isFullscreen()?a.cancelFullscreen():a.requestFullscreen()};a.ima.onFullscreenChange_=function(){a.isFullscreen()?(g.className="ima-fullscreen",l.style.width=window.screen.width+"px",l.style.height=window.screen.height+"px",e.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)):(g.className="ima-non-fullscreen",l.style.width=a.width()+"px",
l.style.height=a.height()+"px",e.resize(a.width(),a.height(),google.ima.ViewMode.NORMAL))};a.ima.onVolumeChange_=function(){var b=a.muted()?0:a.volume();e&&e.setVolume(b)};a.ima.seekContentToZero_=function(){a.off("loadedmetadata",a.ima.seekContentToZero_);a.currentTime(0)};a.ima.playContentFromZero_=function(){a.off("loadedmetadata",a.ima.playContentFromZero_);a.currentTime(0);a.play()};a.ima.resetIMA_=function(){e&&(e.destroy(),e=null);p&&!z&&p.contentComplete();z=!1};a.ima.addEventListener=function(a,
b){e&&e.addEventListener(a,b)};a.ima.getAdsManager=function(){return e};a.ima.setContent=function(b,c,e){a.ima.resetIMA_();d.adTagUrl=c?c:d.adTagUrl;a.pause();a.src(b);if(e)a.on("loadedmetadata",function(){a.ima.playContentFromZero_()});else a.on("loadedmetadata",function(){a.ima.seekContentToZero_()})};a.ima.addContentEndedListener=function(a){F.push(a)};a.ima.pauseAd=function(){C&&v&&(c.className="ima-paused",e.pause(),v=!1)};a.ima.resumeAd=function(){C&&!v&&(c.className="ima-playing",e.resume(),
v=!0)};a.ima.updateCurrentTime=function(){x.seeking||(x.currentTime=a.currentTime())};a.ima.checkForSeeking=function(){var b=1E3*(a.currentTime()-x.previousTime);Math.abs(b)>G+M?x.seeking=!0:x.seeking=!1;x.previousTime=a.currentTime()};a.ima.setShowCountdown=function(a){r=a;t.style.display=r?"block":"none"};var d,y,r,u,l,f,t,n,b,c,h,g,m,I=!1,p,e,B=null,w,J,C=!1,v=!1,E=!1,z=!1,G=1E3,M=100,x={currentTime:0,previousTime:0,seeking:!1,duration:0},F=[],D=function(){p&&!z&&(p.contentComplete(),z=!0);for(var a in F)F[a]()};
d=H({},A,k||{});if(d.id){y=document.getElementById(d.id+"_html5_api");r=!0;0==d.showCountdown&&(r=!1);setInterval(a.ima.updateCurrentTime,G);setInterval(a.ima.checkForSeeking,G);a.on("ended",D);a.ads({debug:d.debug});B=new google.ima.AdsRenderingSettings;B.restoreCustomPlaybackStateOnAdBreakComplete=!0;if(d.adsRenderingSettings)for(var K in d.adsRenderingSettings)B[K]=d.adsRenderingSettings[K];d.locale&&google.ima.settings.setLocale(d.locale);a.ima.createAdContainer_();p=new google.ima.AdsLoader(m);
p.getSettings().setVpaidAllowed(!0);0==d.vpaidAllowed&&p.getSettings().setVpaidAllowed(!1);d.locale&&p.getSettings().setLocale(d.locale);p.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,a.ima.onAdsManagerLoaded_,!1);p.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a.ima.onAdsLoaderError_,!1);q||(q=a.ima.start);a.on("readyforpreroll",q);a.on("fullscreenchange",a.ima.onFullscreenChange_);a.on("volumechange",a.ima.onVolumeChange_)}else window.console.log("Error: must provide id of video.js div")})})(window.videojs);